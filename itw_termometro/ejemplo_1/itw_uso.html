<!DOCTYPE html>
<html>

<head>
    <title>Termometro a mano</title>
    <link rel="shortcut icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQXa1dHTF5MoCq2NSTKIzX2vy9XHltg4M_4F3IG8Mg&s">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <link rel="stylesheet" href="ejemplo_n.css">

    <link rel="stylesheet" href="ImgThermWidget.css">

    <!-- El siguiente import se puede obviar, pero de este modo se resuelve al cargar la pagina.
         Luego, cuando se importa en el script, ya no se pide nuevamente el archivo al servidor. 
         Se puede comprobar checkeando las solicitudes recibidas en el servidor. El navegador lo
         guarda en cache. -->
    <script type="module" src="ImgThermWidget.mjs"></script>
</head>

<body>
    
    <br><h3> Ejemplo simple </h3><br>
    <p> Con cada instancia se crea un widget dentro del primer class="itw_container". Luego,
        se setea la temperatura con el metodo setTemp(). </p><br>
    
    <!-- No se puede usar onclick="widget.setTemp();" ya que se estan usando modulos.
         Esto se debe a que la variable widget es local, no es visible fuera del modulo.
         Si no se usaran modulos, o sea, si fuera un js comun y el tag no llevaria 
         type="module", widget seria global.
         El motivo por el cual se trabaja con modulos es para poder hacer uso de los
         static imports nativos de js, evitando asi usar, por ejemplo, webpack. -->
    <button>
        Presionar = 45ยบ
    </button>

    <!-- Contenedor del widget creado -->
    <div class="itw_container"></div>
    
    <!-- Se importa, instancia (agregandose el codigo html automaticamente, y se
         settea un evento al boton. -->
    <script type="module">
        
        import {ImgThermWidget} from './ImgThermWidget.mjs'
        
        new ImgThermWidget().then( (widget)=>{
            $('button').on("click", function() {
                widget.setTemp(45);
            });
        });

    </script>
</body>

</html>